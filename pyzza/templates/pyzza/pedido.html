{% extends 'pyzza/base.html' %}
{% load static %}
<!DOCTYPE html>
<head>
    <meta charset="UTF-8">
    <title>Efetuar Pedidos</title>
</head>
<body>
{% block content %}
    <img src="" alt="" width="30px" height="">
    <div id="app" class="content">
        <div class="row">
            {#COLUNA FAZER PEDIDOS#}
            <div class="col-6"><!--col-12-->
                <div class="pedidos"><h1>FAÇA SEU PEDIDO!</h1></div>
                <div>
                    <a data-toggle="modal" href="#exampleModal">
                    <img style="background-color: #e89d00; width: 95% ;height: 180px; margin-top: 1em;margin-bottom: 0.5em;" src="{% static 'pyzza/image/pede_pizza.png' %}" alt="banner pedido bebidas">
                    </a>
                </div>
                <div>
                    <a data-toggle="modal" href="#myModalBebidas">
                    <img style="background-color: #e89d00; width: 95% ;height: 180px;" src="{% static 'pyzza/image/pede_bebida.png' %}" alt="banner pedido bebidas">
                    </a>
                </div>
            </div>
            <!--dados do pedido-->
            <div class="col-6">
                <div class="container">
                    <!-- Editable table -->
                    <div class="card">
                        {% csrf_token %}
                        <h3 class="card-header text-center font-weight-bold text-uppercase py-4" style="font-family: 'Cabin Sketch'">Carrinho de Compras</h3>
                        <div class="card-body">
                            <div id="table" class="table-editable table-responsive">
                                <table class="table table-bordered table-responsive-md table-striped text-center">
                                    <h4 style="font-weight: 900; font-family: 'Cabin Sketch'">Pizza(s)</h4>
                                    <thead>
                                        <tr>
                                            <th class="text-center titulo-tabela">Qtd</th>
                                            <th class="text-center titulo-tabela">Sabor(es)</th>
                                            <th class="text-center titulo-tabela">Tamanho</th>
                                            <th class="text-center titulo-tabela">Borda</th>
                                            <th class="text-center titulo-tabela">Remover</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr v-for="(item,i) in pedido.itens_pizza">
                                            <td>
                                                <span class="minus">-</span>
                                                <input type="text" v-bind:value="item.quantidade"/>
                                                <span class="plus">+</span>
                                            </td>
                                            <td class="pt-3-half"><p v-for="sabor in item.sabores">[[ sabor.nome ]] </p></td>
                                            <td class="pt-3-half">[[ item.tamanho_pizza.nome ]]</td>
                                            <td class="pt-3-half"> [[ item.sabor_borda.nome ]]</td>
                                            <td>
                                              <span class="table-remove">
                                                  <button type="button" class="btn btn-danger" v-on:click="remove_item_pizza(i)">
                                                  <i class="far fa-trash-alt"></i>
                                                  </button>
                                              </span>
                                            </td>
                                        </tr>
                                    </tbody>
                                </table>
                                <div id="table" class="table-editable table-responsive">
                                    <table class="table table-bordered table-responsive-md table-striped text-center">
                                        <h4 style="font-weight: 900; font-family: 'Cabin Sketch'">Bebidas</h4>
                                        <thead>
                                        <tr>
                                            <th class="text-center titulo-tabela">Qtd</th>
                                            <th class="text-center titulo-tabela">Sabor</th>
                                            <th class="text-center titulo-tabela">Tamanho</th>
                                            <th class="text-center titulo-tabela">Valor</th>
                                            <th class="text-center titulo-tabela">Remover</th>
                                        </tr>
                                        </thead>
                                        <tbody>
                                        <tr>
                                            <td id="number">
                                                <span class="minus">-</span>
                                                <input type="text" value="1"/>
                                                <span class="plus">+</span>
                                            </td>
                                            <td class="pt-3-half">Coca Cola</td>
                                            <td class="pt-3-half">2 Litros</td>
                                            <td class="pt-3-half">R$ 8,00</td>
                                            <td>
                <span class="table-remove">
                    <button type="button" class="btn btn-danger"><i class="far fa-trash-alt"></i></button>
                </span>

                                            </td>
                                        </tr>
                                        </tbody>
                                    </table>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div><!--end col-12-->
        </div>

        <!-- INICIO DA IMPLEMENTAÇÃO DAS MODAIS -->
{##}
{#        <a data-toggle="modal" href="#myModalBebidas" class="btn btn-primary">Launch modal</a>#}
{#        {% csrf_token %}#}
{##}
{#        <button type="button" class="btn btn-demo" data-toggle="modal" data-target="#exampleModal">#}
{#            Left Sidebar Modal#}
{#        </button>#}
            <!--modal para escolha de bebidas-->
                <div class="modal left fade" id="myModalBebidas" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel"
             aria-hidden="true">
                     {% csrf_token %}
            <div class="modal-dialog" role="document">
                <div class="modal-content">
                    <div class="modal-body">
                        <div class="nav flex-sm-column flex-row">
                            <label>ESCOLHA UM BEBIDA</label>
                            <select id="selectBebida" class="custom-select" v-model="bebida_selecionada">
                                <option v-for="bitem in bebidas" v-bind:value="bitem">[[bitem.nome]]</option>
                            </select>
{#                            <label style="margin-top: 10px;" v-if="tamanho_selecionado.max_sabores > 0">ESCOLHA QUANTOS SABORES!</label>#}
{#                            <div id="selectSabores">#}
{#                                <div id="selectSabores">#}
{#                                    <button type="button" class="btn btn-outline-success"#}
{#                                            v-for="qtd in tamanho_selecionado.max_sabores" v-bind:key="qtd"#}
{#                                            v-bind:value="qtd" @click="seleciona_num_sabores(qtd)">#}
{#                                        [[ qtd ]]#}
{#                                    </button>#}
{#                                </div>#}
{#                            </div>#}
{#                            <div v-if="num_sabores_selecionado > 0">#}
{#                                <div v-for="i,j in num_sabores_selecionado">#}
{#                                    <label class="escolha-um-sabor" v-if="num_sabores_selecionado === 1">ESCOLHA O SABOR DA PIZZA!</label>#}
{#                                    <label class="escolha-um-sabor" v-else>ESCOLHA O [[ i ]]º SABOR</label>#}
{#                                    <div class="dropdown-toggle-split">#}
{#                                        <select class="custom-select" v-model="sabores_selecionados[j]">#}
{#                                            <option v-for="pizza in sabores_pizza" v-bind:value="pizza">[[pizza.nome]]</option>#}
{#                                        </select>#}
{#                                    </div>#}
{#                                </div>#}
{#                            </div>#}
{#                            <div v-if="num_sabores_selecionado > 0">#}
{#                                <hr>#}
{#                                    <label class="escolha-um-sabor">ESCOLHA O SABOR DA BORDA!</label>#}
{#                                    <div class="dropdown-toggle-split">#}
{#                                        <select class="custom-select" v-model="borda_selecionada">#}
{#                                            <option v-for="borda in sabores_borda" v-bind:value="borda">[[borda.nome]]</option>#}
{#                                        </select>#}
{#                                    </div>#}
{#                            </div>#}
                        </div>
                        <div class="modal-footer">
                            <button type="button" class="btn btn-secondary" data-dismiss="modal">CANCELAR</button>
                            <button type="button" class="btn btn-primary" data-dismiss="modal" @click="adiciona_item_pizza()">INCLUIR NO PEDIDO</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
                <!--fim da modal para escolha de bebidas-->

        <div class="modal left fade" id="exampleModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel"
             aria-hidden="true">
            <div class="modal-dialog" role="document">
                <div class="modal-content">
                    <div class="modal-body">
                        <div class="nav flex-sm-column flex-row">
                            <label>ESCOLHA O TAMANHO DA SUA PIZZA!</label>
                            <select id="selectTamanho" class="custom-select" v-model="tamanho_selecionado">
                                <option v-for="tamanho in tamanhos" v-bind:value="tamanho">[[tamanho.nome]]</option>
                            </select>
                            <label style="margin-top: 10px;" v-if="tamanho_selecionado.max_sabores > 0">ESCOLHA QUANTOS SABORES!</label>
                            <div id="selectSabores">
                                <div id="selectSabores">
                                    <button type="button" class="btn btn-outline-success"
                                            v-for="qtd in tamanho_selecionado.max_sabores" v-bind:key="qtd"
                                            v-bind:value="qtd" @click="seleciona_num_sabores(qtd)">
                                        [[ qtd ]]
                                    </button>
                                </div>
                            </div>
                            <div v-if="num_sabores_selecionado > 0">
                                <div v-for="i,j in num_sabores_selecionado">
                                    <label class="escolha-um-sabor" v-if="num_sabores_selecionado === 1">ESCOLHA O SABOR DA PIZZA!</label>
                                    <label class="escolha-um-sabor" v-else>ESCOLHA O [[ i ]]º SABOR</label>
                                    <div class="dropdown-toggle-split">
                                        <select class="custom-select" v-model="sabores_selecionados[j]">
                                            <option v-for="pizza in sabores_pizza" v-bind:value="pizza">[[pizza.nome]]</option>
                                        </select>
                                    </div>
                                </div>
                            </div>
                            <div v-if="num_sabores_selecionado > 0">
                                <hr>
                                    <label class="escolha-um-sabor">ESCOLHA O SABOR DA BORDA!</label>
                                    <div class="dropdown-toggle-split">
                                        <select class="custom-select" v-model="borda_selecionada">
                                            <option v-for="borda in sabores_borda" v-bind:value="borda">[[borda.nome]]</option>
                                        </select>
                                    </div>
                            </div>
                        </div>
                        <div class="modal-footer">
                            <button type="button" class="btn btn-secondary" data-dismiss="modal">CANCELAR</button>
                            <button type="button" class="btn btn-primary" data-dismiss="modal" @click="adiciona_item_pizza()">INCLUIR NO PEDIDO</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div class="modal fade" id="myModal4">
            <div class="modal-dialog">
                <div class="modal-content">
                    <div class="modal-header">
                        <h4 class="modal-title">ESCOLHA O SABOR DA BORDA</h4>
                    </div>
                    <div class="container">
                        <div class="modal-body">
                            <div class="list-group">
                                <a href="#" class="list-group-item list-group-item-action flex-column align-items-start"
                                   v-on:click="adicionar_borda(borda)">
                                    <div class="d-flex w-100 justify-content-between">
                                        <h5 class="mb-1">Borda Siciliana</h5>
                                        <small>Bacon, Mussarela Ralada e Requeijão</small>
                                    </div>
                                    {#                    <p class="mb-1">2 litros</p>#}
                                    <small>R$ 8,00 </small>
                                </a>
                                <a href="#" class="list-group-item list-group-item-action flex-column align-items-start"
                                   v-on:click="adicionar_borda(borda)">
                                    <div class="d-flex w-100 justify-content-between">
                                        <h5 class="mb-1">Borda de Mussarela</h5>
                                        <small>R$ 8,00</small>
                                    </div>
                                    <p class="mb-1">Muitaaaa mussarela ralada!!</p>

                                </a>
                                <a href="#" class="list-group-item list-group-item-action flex-column align-items-start"
                                   v-on:click="adicionar_borda(borda)">
                                    <div class="d-flex w-100 justify-content-between">
                                        <h5 class="mb-1">Borda de nutela</h5>
                                        {#                      <small>Nutela, muita nutela!</small>#}
                                        <small>R$ 18,00 </small>
                                    </div>
                                    <p class="mb-1">Nutela, muita nutela!</p>
                                    {#                    <small>R$ 18,00 </small>#}
                                </a>
                                <a href="#" class="list-group-item list-group-item-action flex-column align-items-start"
                                   v-on:click="adicionar_borda(borda)">
                                    <div class="d-flex w-100 justify-content-between">
                                        <h5 class="mb-1">Borda chocolate</h5>
                                        <small>R$ 6,00 </small>
                                    </div>
                                    <p class="mb-1">Chocolate com 80% de cacau, feito com leite das vacas do
                                        himalaia</p>
                                    {#                    <small>R$ 6,00 </small>#}
                                </a>
                                <a href="#" class="list-group-item list-group-item-action flex-column align-items-start"
                                   v-on:click="adicionar_borda(borda)">
                                    <div class="d-flex w-100 justify-content-between">
                                        <h5 class="mb-1">Borda chocolate branco</h5>
                                        <small>R$ 10,00</small>
                                    </div>
                                    <p class="mb-1">Chocolate branco MILKA, feito com puro leite suiço seloko!</p>
                                    {#                    <small>R$ 10,00 </small>#}
                                </a>
                            </div>
                        </div>
                    </div>
                    <div class="modal-footer">
                        <a data-toggle="modal" href="#myModal4" class="btn-outline-warning">ANTERIOR</a>
                        <span href="#" id="btn-fecha" data-dismiss="modal" class="btn" @click="adiciona_item_pizza()">INCLUIR NO PEDIDO</span>
                    </div>
                </div>
            </div>
        </div>
    </div>



{% endblock %}
</body>
</html>