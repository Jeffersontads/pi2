{% extends 'pyzza/base.html' %}
{% load static %}
<!DOCTYPE html>
<head>
    <meta charset="UTF-8">
    <title>Efetuar Pedidos</title>
</head>
<body>
{% block content %}
    <img src="" alt="" width="30px" height="">
    <div id="app" class="content">
        <div class="row">
            {#COLUNA FAZER PEDIDOS#}
            <div class="col-6"><!--col-12-->
                <div class="pedidos"><h1>FAÇA SEU PEDIDO!</h1></div>
                <div>
                    <a data-toggle="modal" href="#exampleModal">
                        <img style="background-color: #e89d00; width: 95% ;height: 180px; margin-top: 1em;margin-bottom: 0.5em;"
                             src="{% static 'pyzza/image/bebida_pedidos.png' %}" alt="banner pedido bebidas">
                    </a>
                </div>
                <div>
                    <a data-toggle="modal" href="#myModalBebidas">
                        <img style="background-color: #e89d00; width: 95% ;height: 180px;"
                             src="{% static 'pyzza/image/pizza_pedido.png' %}" alt="banner pedido bebidas">
                    </a>
                </div>
            </div>
            <!--dados do pedido-->
            <div class="col-6">
                <div class="container">
                    <!-- Editable table -->
                    <div class="card">
                        {% csrf_token %}
                        <h3 class="card-header text-center font-weight-bold text-uppercase py-4"
                            style="font-family: 'Cabin Sketch'">Carrinho de Compras</h3>
                        <div class="card-body">
                            <div id="table" class="table-editable table-responsive">
                                <table class="table table-bordered table-responsive-md table-striped text-center">
                                    <h4 style="font-weight: 900; font-family: 'Cabin Sketch'; margin-top: 1em;">
                                        Pizza(s)</h4>
                                    <thead>
                                    <tr>
                                        <th class="text-center titulo-tabela">Qtd</th>
                                        <th class="text-center titulo-tabela">Sabor(es)</th>
                                        <th class="text-center titulo-tabela">Tamanho</th>
                                        <th class="text-center titulo-tabela">Borda</th>
                                        <th class="text-center titulo-tabela">Remover</th>
                                    </tr>
                                    </thead>
                                    <tbody>
                                    <tr v-for="(item,i) in pedido.itens_pizza">
                                        <td>
                                            <span class="minus">-</span>
                                            <input type="text" v-bind:value="item.quantidade"/>
                                            <span class="plus">+</span>
                                        </td>
                                        <td class="pt-3-half"><p v-for="sabor in item.sabores">[[ sabor.nome ]] </p>
                                        </td>
                                        <td class="pt-3-half">[[ item.tamanho_pizza.nome ]]</td>
                                        <td class="pt-3-half"> [[ item.sabor_borda.nome ]]</td>
                                        <td>
                                              <span class="table-remove">
                                                  <button type="button" class="btn btn-danger"
                                                          v-on:click="remove_item_pizza(i)">
                                                  <i class="far fa-trash-alt"></i>
                                                  </button>
                                              </span>
                                        </td>
                                    </tr>
                                    </tbody>
                                </table>
                            </div>
                            <div id="table" class="table-editable table-responsive">
                                <table class="table table-bordered table-responsive-md table-striped text-center">
                                    <h4 style="font-weight: 900; font-family: 'Cabin Sketch'; margin-top: 1em;">
                                        Bebidas</h4>
                                    <thead>
                                    <tr>
                                        <th class="text-center titulo-tabela">Qtd</th>
                                        <th class="text-center titulo-tabela">Sabor</th>
                                        <th class="text-center titulo-tabela">Tamanho</th>
                                        <th class="text-center titulo-tabela">Valor</th>
                                        <th class="text-center titulo-tabela">Remover</th>
                                    </tr>
                                    </thead>
                                    <tbody>
                                    <tr>
                                        <td id="number">
                                            <span class="minus">-</span>
                                            <input type="text" value="1"/>
                                            <span class="plus">+</span>
                                        </td>
                                        <td class="pt-3-half">Coca Cola</td>
                                        <td class="pt-3-half">2 Litros</td>
                                        <td class="pt-3-half">R$ 8,00</td>
                                        <td>
                                                    <span class="table-remove">
                                                        <button type="button" class="btn btn-danger"><i
                                                                class="far fa-trash-alt"></i></button>
                                                    </span>
                                        </td>
                                    </tr>
                                    </tbody>
                                </table>
                                <button type="button" class="btn-warning" style="float: right" data-toggle="modal"
                                        data-target="#modalLogin">ENVIAR PEDIDO
                                </button>
                            </div>
                            {# div table #}
                        </div>
                        {# div card body #}
                    </div>
                    {# div card #}
                </div>
                {# div container #}
            </div>
            {# "col-6" #}
            <!--MODAL PARA LOGIN -->

            <div style="margin-top: 2em;" class="modal" id="modalLogin" tabindex="-1" role="dialog">
                <div class="modal-dialog" role="document">
                    <div class="modal-content">

                        <div class="modal-body">
                            <div class="container h-100">
                                <div class="d-flex justify-content-center h-100">
                                    <div class="user_card">
                                        <div class="d-flex justify-content-center">
                                            <div style="margin-bottom:-4em;">
                                                <img src="{% static 'pyzza/image/logo_top_do_projeto_novo.png' %}"
                                                     alt="Logo">
                                            </div>
                                        </div>
                                        <div class="d-flex justify-content-center form_container">
                                            <form>
                                                <div class="input-group mb-3">
                                                    <div class="input-group-append">
                                                        <span class="input-group-text">
                                                            <i class="fas fa-user"></i>
                                                        </span>
                                                    </div>
                                                    <input type="text" name="" class="form-control input_user" value=""
                                                           placeholder="Nome de usuário">
                                                </div>
                                                <div class="input-group mb-2">
                                                    <div class="input-group-append">
                                                        <span class="input-group-text"><i class="fas fa-key"></i></span>
                                                    </div>
                                                    <input type="password" name="" class="form-control input_pass"
                                                           value="" placeholder="Senha">
                                                </div>
                                                {#                                                <div class="form-group">#}
                                                {#                                                    <div class="custom-control custom-checkbox">#}
                                                {#                                                        <input type="checkbox" class="custom-control-input"#}
                                                {#                                                               id="customControlInline">#}
                                                {#                                                        <label class="custom-control-label" for="customControlInline">Remember me</label>#}
                                                {#                                                    </div>#}
                                                {#                                                </div>#}
                                            </form>
                                        </div>
                                        <div class="d-flex justify-content-center mt-3 login_container">
                                            <button type="button" name="button" class="btn login_btn">Login</button>
                                        </div>
                                        <div class="mt-4">
                                            <div class="d-flex justify-content-center links">
                                                Ainda não tem cadastro? <a href="#" class="ml-2" data-toggle="modal"
                                                                           data-target="#modalCadastro">Cadastre-se</a>
                                            </div>
                                            <div class="d-flex justify-content-center links">
                                                <a href="#">esqueceu a senha?</a>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- FIM DA MODAL -->

            <!-- MODAL CADASTRE-SE -->
            <div class="modal" id="modalCadastro" tabindex="-1" role="dialog">
                <div class="modal-dialog" role="document">
                    <div class="modal-content">
                        <div class="modal-body">
                            <div class="card card-outline-secondary">
                                <div class="card-header" id="header-modal-cadastro">
                                    <h3 class="mb-0">Cadastro de usuário</h3>
                                </div>
                                <div class="card-body" style="background-color: rgba(255, 183, 33, 0.43);">
                                    <form autocomplete="off" class="form" role="form">
                                        <div class="form-group row">
                                            <label class="col-lg-3 col-form-label form-control-label">Nome</label>
                                            <div class="col-lg-9">
                                                <input class="form-control" type="text" value="Paulo">
                                            </div>
                                        </div>
                                        <div class="form-group row">
                                            <label class="col-lg-3 col-form-label form-control-label">Sobrenome</label>
                                            <div class="col-lg-9">
                                                <input class="form-control" type="text" value="da Silva">
                                            </div>
                                        </div>
                                        <div class="form-group row">
                                            <label class="col-lg-3 col-form-label form-control-label">Email</label>
                                            <div class="col-lg-9">
                                                <input class="form-control" type="email" value="email@gmail.com">
                                            </div>
                                        </div>
                                        <div class="form-group row">
                                            <label class="col-lg-3 col-form-label form-control-label">Nome de
                                                Usuário</label>
                                            <div class="col-lg-9">
                                                <input class="form-control" type="text"
                                                       value="Insira um nome para login">
                                            </div>
                                        </div>
                                        <div class="form-group row">
                                            <label class="col-lg-3 col-form-label form-control-label">Senha</label>
                                            <div class="col-lg-9">
                                                <input class="form-control" type="password" value="11111122333">
                                                <small class="form-text text-muted" id="passwordHelpBlock">
                                                    Sua senha deve ter entre 8 e 20 caracteres, conter letras e números
                                                    e não deve conter espaços, caracteres especiais ou emoji.</small>
                                            </div>
                                        </div>
                                        <div class="form-group row">
                                            <label class="col-lg-3 col-form-label form-control-label">Confirme sua
                                                senha</label>
                                            <div class="col-lg-9">
                                                <input class="form-control" type="password" value="11111122333">
                                            </div>
                                        </div>
                                        <div class="form-group row">
                                            <label class="col-lg-3 col-form-label form-control-label"></label>
                                            <div class="col-lg-9">
                                                <button style="float: right;" class="btn btn-success" type="button"
                                                        value="Cancel">Salvar
                                                </button>
                                                <button style="float: right;" class="btn btn-danger" type="reset"
                                                        value="Save Changes">Cancelar
                                                </button>
                                            </div>
                                        </div>
                                    </form>
                                </div>
                            </div><!-- /form user info-->
                        </div>
                    </div>
                </div>
            </div>

            <!-- FINAL DA MODAL CADASTRE-SE-->

        </div><!--end col-12-->
        {#        </div>#} {# div app??? #}

        <!-- INICIO DA IMPLEMENTAÇÃO DAS MODAIS -->
        {##}
        {#        <a data-toggle="modal" href="#myModalBebidas" class="btn btn-primary">Launch modal</a>#}
        {#        {% csrf_token %}#}
        {##}
        {#        <button type="button" class="btn btn-demo" data-toggle="modal" data-target="#exampleModal">#}
        {#            Left Sidebar Modal#}
        {#        </button>#}
        <!--modal para escolha de bebidas-->
        <div class="modal left fade" id="myModalBebidas" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel"
             aria-hidden="true">
            {% csrf_token %}
            <div class="modal-dialog" role="document">
                <div class="modal-content">
                    <div class="modal-body">
                        <div class="nav flex-sm-column flex-row">
                            <label>ESCOLHA UM BEBIDA</label>
                            <select id="selectBebida" class="custom-select" v-model="bebida_selecionada">
                                <option v-for="bitem in bebidas" v-bind:value="bitem">[[bitem.nome]]</option>
                            </select>
                            {#                            <label style="margin-top: 10px;" v-if="tamanho_selecionado.max_sabores > 0">ESCOLHA QUANTOS SABORES!</label>#}
                            {#                            <div id="selectSabores">#}
                            {#                                <div id="selectSabores">#}
                            {#                                    <button type="button" class="btn btn-outline-success"#}
                            {#                                            v-for="qtd in tamanho_selecionado.max_sabores" v-bind:key="qtd"#}
                            {#                                            v-bind:value="qtd" @click="seleciona_num_sabores(qtd)">#}
                            {#                                        [[ qtd ]]#}
                            {#                                    </button>#}
                            {#                                </div>#}
                            {#                            </div>#}
                            {#                            <div v-if="num_sabores_selecionado > 0">#}
                            {#                                <div v-for="i,j in num_sabores_selecionado">#}
                            {#                                    <label class="escolha-um-sabor" v-if="num_sabores_selecionado === 1">ESCOLHA O SABOR DA PIZZA!</label>#}
                            {#                                    <label class="escolha-um-sabor" v-else>ESCOLHA O [[ i ]]º SABOR</label>#}
                            {#                                    <div class="dropdown-toggle-split">#}
                            {#                                        <select class="custom-select" v-model="sabores_selecionados[j]">#}
                            {#                                            <option v-for="pizza in sabores_pizza" v-bind:value="pizza">[[pizza.nome]]</option>#}
                            {#                                        </select>#}
                            {#                                    </div>#}
                            {#                                </div>#}
                            {#                            </div>#}
                            {#                            <div v-if="num_sabores_selecionado > 0">#}
                            {#                                <hr>#}
                            {#                                    <label class="escolha-um-sabor">ESCOLHA O SABOR DA BORDA!</label>#}
                            {#                                    <div class="dropdown-toggle-split">#}
                            {#                                        <select class="custom-select" v-model="borda_selecionada">#}
                            {#                                            <option v-for="borda in sabores_borda" v-bind:value="borda">[[borda.nome]]</option>#}
                            {#                                        </select>#}
                            {#                                    </div>#}
                            {#                            </div>#}
                        </div>
                        <div class="modal-footer">
                            <button type="button" class="btn btn-secondary" data-dismiss="modal">CANCELAR</button>
                            <button type="button" class="btn btn-primary" data-dismiss="modal"
                                    @click="adiciona_item_pizza()">INCLUIR NO PEDIDO
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <!--fim da modal para escolha de bebidas-->

        <div class="modal left fade" id="exampleModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel"
             aria-hidden="true">
            <div class="modal-dialog" role="document">
                <div class="modal-content">
                    <div class="modal-body">
                        <div class="nav flex-sm-column flex-row">
                            <label style="font-family: 'Cabin Sketch'; font-size: 26px;">ESCOLHA O TAMANHO DA SUA
                                PIZZA!</label>
                            <select id="selectTamanho" class="custom-select" v-model="tamanho_selecionado">
                                <option v-for="tamanho in tamanhos" v-bind:value="tamanho">[[tamanho.nome]]</option>
                            </select>
                            <label style="margin-top: 10px; font-family: 'Cabin Sketch';  font-size: 18px;"
                                   v-if="tamanho_selecionado.max_sabores > 0">ESCOLHA QUANTOS SABORES!</label>
                            <div id="selectSabores">
                                <div id="selectSabores">
                                    <button type="button" class="btn btn-outline-dark"
                                            v-for="qtd in tamanho_selecionado.max_sabores" v-bind:key="qtd"
                                            v-bind:value="qtd" @click="seleciona_num_sabores(qtd)">
                                        [[ qtd ]]
                                    </button>
                                </div>
                            </div>
                            <div v-if="num_sabores_selecionado > 0">
                                <div v-for="i,j in num_sabores_selecionado">
                                    <label style="font-family: 'Cabin Sketch'; font-size: 18px;"
                                           class="escolha-um-sabor" v-if="num_sabores_selecionado === 1">ESCOLHA O SABOR
                                        DA PIZZA!</label>
                                    <label class="escolha-um-sabor" v-else>ESCOLHA O [[ i ]]º SABOR</label>
                                    <div class="dropdown-toggle-split">
                                        <select class="custom-select" v-model="sabores_selecionados[j]">
                                            <option v-for="pizza in sabores_pizza" v-bind:value="pizza">[[pizza.nome]]
                                            </option>
                                        </select>
                                    </div>
                                </div>
                            </div>
                            <div v-if="num_sabores_selecionado > 0">
                                <hr>
                                <label style="font-family: 'Cabin Sketch'; font-size: 26px;" class="escolha-um-sabor">ESCOLHA
                                    O SABOR DA BORDA!</label>
                                <div class="dropdown-toggle-split">
                                    <select class="custom-select" v-model="borda_selecionada">
                                        <option v-for="borda in sabores_borda" v-bind:value="borda">[[borda.nome]]
                                        </option>
                                    </select>
                                </div>
                            </div>
                        </div>
                        <div class="modal-footer">
                            <button type="button" class="btn btn-secondary" data-dismiss="modal">CANCELAR</button>
                            <button type="button" class="btn btn-primary" data-dismiss="modal"
                                    @click="adiciona_item_pizza()">INCLUIR NO PEDIDO
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div class="modal fade" id="myModal4">
            <div class="modal-dialog">
                <div class="modal-content">
                    <div class="modal-header">
                        <h4 class="modal-title">ESCOLHA O SABOR DA BORDA</h4>
                    </div>
                    <div class="container">
                        <div class="modal-body">
                            <div class="list-group">
                                <a href="#" class="list-group-item list-group-item-action flex-column align-items-start"
                                   v-on:click="adicionar_borda(borda)">
                                    <div class="d-flex w-100 justify-content-between">
                                        <h5 class="mb-1">Borda Siciliana</h5>
                                        <small>Bacon, Mussarela Ralada e Requeijão</small>
                                    </div>
                                    {#                    <p class="mb-1">2 litros</p>#}
                                    <small>R$ 8,00 </small>
                                </a>
                                <a href="#" class="list-group-item list-group-item-action flex-column align-items-start"
                                   v-on:click="adicionar_borda(borda)">
                                    <div class="d-flex w-100 justify-content-between">
                                        <h5 class="mb-1">Borda de Mussarela</h5>
                                        <small>R$ 8,00</small>
                                    </div>
                                    <p class="mb-1">Muitaaaa mussarela ralada!!</p>

                                </a>
                                <a href="#" class="list-group-item list-group-item-action flex-column align-items-start"
                                   v-on:click="adicionar_borda(borda)">
                                    <div class="d-flex w-100 justify-content-between">
                                        <h5 class="mb-1">Borda de nutela</h5>
                                        {#                      <small>Nutela, muita nutela!</small>#}
                                        <small>R$ 18,00 </small>
                                    </div>
                                    <p class="mb-1">Nutela, muita nutela!</p>
                                    {#                    <small>R$ 18,00 </small>#}
                                </a>
                                <a href="#" class="list-group-item list-group-item-action flex-column align-items-start"
                                   v-on:click="adicionar_borda(borda)">
                                    <div class="d-flex w-100 justify-content-between">
                                        <h5 class="mb-1">Borda chocolate</h5>
                                        <small>R$ 6,00 </small>
                                    </div>
                                    <p class="mb-1">Chocolate com 80% de cacau, feito com leite das vacas do
                                        himalaia</p>
                                    {#                    <small>R$ 6,00 </small>#}
                                </a>
                                <a href="#" class="list-group-item list-group-item-action flex-column align-items-start"
                                   v-on:click="adicionar_borda(borda)">
                                    <div class="d-flex w-100 justify-content-between">
                                        <h5 class="mb-1">Borda chocolate branco</h5>
                                        <small>R$ 10,00</small>
                                    </div>
                                    <p class="mb-1">Chocolate branco MILKA, feito com puro leite suiço seloko!</p>
                                    {#                    <small>R$ 10,00 </small>#}
                                </a>
                            </div>
                        </div>
                    </div>
                    <div class="modal-footer">
                        <a data-toggle="modal" href="#myModal4" class="btn-outline-warning">ANTERIOR</a>
                        <span href="#" id="btn-fecha" data-dismiss="modal" class="btn" @click="adiciona_item_pizza()">INCLUIR NO PEDIDO</span>
                    </div>
                </div>
            </div>
        </div>
    </div>



{% endblock %}
</body>
</html>